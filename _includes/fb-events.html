<script>
        window.fbAsyncInit = function() {
          FB.init({
            appId            : '556297018114224',
            autoLogAppEvents : true,
            xfbml            : true,
            version          : 'v3.2'
          });

          FB.getLoginStatus(function(response) {
            if (response.status === 'connected') {
                var accessToken = response.authResponse.accessToken;
            } 
          } );

          var pageAccessToken = 'EAAH58v4ngLABADHo4mx9CgI7sXGMkLrRYsJZAYXKNZBWZCNLbxt8ZCojOswl6YKl9pBeovquXzFoJBrvIaA3kdGs4I48jZBGlWQAv3l2dfmpoFAZAaCbDbudgLRWGhdVkH7uI0mY61tqUr5K2q5xJZB8XqxGBUu0Ql5VrVzzgSADAZDZD';

          FB.api('/870962136249359/events', {
            access_token : pageAccessToken },
            function (response) {

                var today  = new Date();

                if (response && !response.error) {
                    /* handle the result */
                    // const renderedEvents = document.createDocumentFragment();
                    var renderedEvents = '';

                    // loop through the events
                    response.data.forEach((item) => {
                    
                        // need to create a function to manipulate the event data (particularly the time) and pass it to the createSingleEvent function
                        // need to pass the manipulated data to this function

                        var date = new Date(item.start_time);

                        if (date > today){
                            renderedEvents += createSingleEvent(item, date);
                        }

                    });

                    // get the dom node that we'll inject the rendered events into (you'll need to make/adjust this id in your html)
                    const eventsContainer = document.getElementById('upcoming-events');

                    // inject the rendered events into the dom 
                    eventsContainer.innerHTML = renderedEvents;

                } // make sure to handle errors
            }
        );

        };

        (function(d, s, id){
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) {return;}
          js = d.createElement(s); js.id = id;
          js.src = "https://connect.facebook.net/en_US/sdk.js";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        function createSingleEvent(item, date){
            var options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
            console.log(date);
            return "<div class='col-4'><a class='text-decoration-none' href='https://www.facebook.com/events/" + item.id +" '><div><img class='img-fluid mb-3' src='../assets/images/event-placeholder.png'><h3>" + date.toLocaleDateString("en-US", options) + "<br>" + date.toLocaleTimeString('en-US', {hour: '2-digit', minute:'2-digit'}) + " â€“ 1:3O PM</h3><h2>" + item.name +"</h2></div></a></div>"
        }

</script>